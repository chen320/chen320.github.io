

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/null">
  <link rel="icon" href="https://ts1.cn.mm.bing.net/th/id/R-C.f408176d301eba722a97bcc4d045cbc7?rik=J%2bK47GXYGgKyOw&amp;riu=http%3a%2f%2fstatic.oschina.net%2fuploads%2fspace%2f2015%2f0629%2f165329_EdoG_1767531.png&amp;ehk=ZIVbH06spduNSMSM0N3kkzz8ylv0o4zwwb%2fySRRRV00%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Chentao">
  <meta name="keywords" content="">
  <meta name="description" content="21年全国大学生计算机应用能力与信息素养大赛注：此代码实现过程仅是本人初学后所敲，很多地方不足，仅供大家参考。因为大赛结束后就没有赛题及相关介绍，这里提供给大家 代码如下：1234567import numpy as npimport pandas as pdimport matplotlib.pyplot as pltimport seaborn as snsdata &#x3D;  pd.read_cs">
<meta property="og:type" content="article">
<meta property="og:title" content="21年全国大学生计算机应用能力与信息素养大赛">
<meta property="og:url" content="http://chen320.github.io/2022/07/15/2021%E5%B9%B4%E4%BF%A1%E6%81%AF%E7%B4%A0%E5%85%BB%E5%A4%A7%E8%B5%9B%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/index.html">
<meta property="og:site_name" content="Chen&#39;s Blog">
<meta property="og:description" content="21年全国大学生计算机应用能力与信息素养大赛注：此代码实现过程仅是本人初学后所敲，很多地方不足，仅供大家参考。因为大赛结束后就没有赛题及相关介绍，这里提供给大家 代码如下：1234567import numpy as npimport pandas as pdimport matplotlib.pyplot as pltimport seaborn as snsdata &#x3D;  pd.read_cs">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.postimg.cc/BQGQ5zj7/1.jpg">
<meta property="og:image" content="https://i.postimg.cc/yxG4kk3b/output-10-0.png">
<meta property="og:image" content="https://i.postimg.cc/1zSxnx4s/output-13-0.png">
<meta property="og:image" content="https://i.postimg.cc/Vvd2QmZB/output-13-1.png">
<meta property="og:image" content="https://i.postimg.cc/J7s1WLk2/output-15-0.png">
<meta property="og:image" content="https://i.postimg.cc/4NtsmQwv/output-15-1.png">
<meta property="og:image" content="https://i.postimg.cc/gJQb0xZB/output-21-0.png">
<meta property="og:image" content="https://i.postimg.cc/RVrz5n9W/output-28-1.png">
<meta property="og:image" content="https://i.postimg.cc/FHN515Ym/output-30-0.png">
<meta property="og:image" content="https://i.postimg.cc/W3DxxsHm/output-35-1.png">
<meta property="og:image" content="https://i.postimg.cc/CLCX3Pm2/output-63-0.png">
<meta property="og:image" content="https://i.postimg.cc/MGHLjWqk/output-65-0.png">
<meta property="og:image" content="https://i.postimg.cc/CL06sCSs/output-67-0.png">
<meta property="og:image" content="https://i.postimg.cc/dVxBpGPX/output-82-0.png">
<meta property="og:image" content="https://i.postimg.cc/9fwphzcf/output-83-0.png">
<meta property="og:image" content="https://i.postimg.cc/CL06sCSs/output-67-0.png">
<meta property="og:image" content="https://i.postimg.cc/FzNg3Z3f/output-98-0.png">
<meta property="og:image" content="https://i.postimg.cc/yNRFG5Tg/output-100-0.png">
<meta property="og:image" content="https://i.postimg.cc/BbmDDGJy/output-101-0.png">
<meta property="article:published_time" content="2022-07-14T16:00:00.000Z">
<meta property="article:modified_time" content="2022-07-15T01:57:51.544Z">
<meta property="article:author" content="Chentao">
<meta property="article:tag" content="素养大赛">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://i.postimg.cc/BQGQ5zj7/1.jpg">
  
  <title>21年全国大学生计算机应用能力与信息素养大赛 - Chen&#39;s Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/gundong.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/gundongtiao.css">
<link rel="stylesheet" href="/css/dazi.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/toubudaziji.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"chen320.github.io","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"7GgfPxgdU2CcwlhdqMFDascs-gzGzoHsz","app_key":"iQjxbFjeMOGRmMhYhY2jA9sp","server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>水寿先生</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                个人
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://cdn.pixabay.com/photo/2021/12/27/21/37/church-6898286_960_720.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="21年全国大学生计算机应用能力与信息素养大赛">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-07-15 00:00" pubdate>
        July 15, 2022 am
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      29k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      90 分钟
    </span>
  

  
  
    
      <!-- LeanCloud 统计文章PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        阅读量:<span id="leancloud-page-views"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">21年全国大学生计算机应用能力与信息素养大赛</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：July 15, 2022 am
                
              </p>
            
            <div class="markdown-body">
              <h3 id="21年全国大学生计算机应用能力与信息素养大赛"><a href="#21年全国大学生计算机应用能力与信息素养大赛" class="headerlink" title="21年全国大学生计算机应用能力与信息素养大赛"></a>21年全国大学生计算机应用能力与信息素养大赛</h3><h5 id="注：此代码实现过程仅是本人初学后所敲，很多地方不足，仅供大家参考。"><a href="#注：此代码实现过程仅是本人初学后所敲，很多地方不足，仅供大家参考。" class="headerlink" title="注：此代码实现过程仅是本人初学后所敲，很多地方不足，仅供大家参考。"></a>注：此代码实现过程仅是本人初学后所敲，很多地方不足，仅供大家参考。</h5><h5 id="因为大赛结束后就没有赛题及相关介绍，这里提供给大家"><a href="#因为大赛结束后就没有赛题及相关介绍，这里提供给大家" class="headerlink" title="因为大赛结束后就没有赛题及相关介绍，这里提供给大家"></a>因为大赛结束后就没有赛题及相关介绍，这里提供给大家</h5><p><a target="_blank" rel="noopener" href="https://postimg.cc/XXQb4Qc9"><img src="https://i.postimg.cc/BQGQ5zj7/1.jpg" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="1.jpg"></a></p>
<h5 id="代码如下："><a href="#代码如下：" class="headerlink" title="代码如下："></a>代码如下：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><br>data =  pd.read_csv(<span class="hljs-string">&#x27;C:/Users/86155/Desktop/大数据竞赛数据集_本科组.csv&#x27;</span>)<br>data.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X0</th>
      <th>X1</th>
      <th>X2</th>
      <th>X3</th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>8</td>
      <td>0.80</td>
      <td>26.16</td>
      <td>1108.0</td>
      <td>7080</td>
      <td>98</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>59.0</td>
      <td>0.940725</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>finishing</td>
      <td>Thursday</td>
      <td>1</td>
      <td>0.75</td>
      <td>3.94</td>
      <td>NaN</td>
      <td>960</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.886500</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>11</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>12</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>6</td>
      <td>0.80</td>
      <td>25.90</td>
      <td>1170.0</td>
      <td>1920</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>56.0</td>
      <td>0.800382</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br>data=pd.read_excel(<span class="hljs-string">&#x27;C:/Users/86155/Desktop/xinguan.xlsx&#x27;</span>)<br><span class="hljs-comment">#plt.scatter(data[&#x27;经度&#x27;],data[&#x27;纬度&#x27;],</span><br>           <span class="hljs-comment">#s=data[&#x27;累计确诊&#x27;],</span><br>           <span class="hljs-comment">#c=data[&#x27;累计死亡&#x27;],cmap=&#x27;Gray&#x27;,</span><br>           <span class="hljs-comment">#alpha=0.4)</span><br><span class="hljs-comment">#plt.grid()</span><br>data.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>城市</th>
      <th>累计确诊</th>
      <th>现有疑似</th>
      <th>累计死亡</th>
      <th>经度</th>
      <th>纬度</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>北京</td>
      <td>1651</td>
      <td>0</td>
      <td>9</td>
      <td>116.46</td>
      <td>39.92</td>
    </tr>
    <tr>
      <th>1</th>
      <td>天津</td>
      <td>1372</td>
      <td>0</td>
      <td>3</td>
      <td>117.20</td>
      <td>39.12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>河北</td>
      <td>1671</td>
      <td>0</td>
      <td>7</td>
      <td>114.52</td>
      <td>38.05</td>
    </tr>
    <tr>
      <th>3</th>
      <td>山西</td>
      <td>295</td>
      <td>0</td>
      <td>0</td>
      <td>112.55</td>
      <td>37.87</td>
    </tr>
    <tr>
      <th>4</th>
      <td>内蒙古</td>
      <td>1666</td>
      <td>0</td>
      <td>1</td>
      <td>111.73</td>
      <td>40.83</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data.info()<br></code></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1197 entries, 0 to 1196
Data columns (total 15 columns):
 #   Column  Non-Null Count  Dtype         
---  ------  --------------  -----         
 0   X0      1197 non-null   datetime64[ns]
 1   X1      1197 non-null   object        
 2   X2      1197 non-null   object        
 3   X3      1197 non-null   object        
 4   X4      1197 non-null   int64         
 5   X5      1197 non-null   float64       
 6   X6      1197 non-null   float64       
 7   X7      691 non-null    float64       
 8   X8      1197 non-null   int64         
 9   X9      1197 non-null   int64         
 10  X10     1197 non-null   float64       
 11  X11     1197 non-null   int64         
 12  X12     1197 non-null   int64         
 13  X13     1197 non-null   float64       
 14  X14     1197 non-null   float64       
dtypes: datetime64[ns](1), float64(6), int64(5), object(3)
memory usage: 140.4+ KB
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data.isnull()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X0</th>
      <th>X1</th>
      <th>X2</th>
      <th>X3</th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>1197 rows × 15 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  数据类型</span><br>data.dtypes  <br></code></pre></td></tr></table></figure>
<pre><code>X0     datetime64[ns]
X1             object
X2             object
X3             object
X4              int64
X5            float64
X6            float64
X7            float64
X8              int64
X9              int64
X10           float64
X11             int64
X12             int64
X13           float64
X14           float64
dtype: object
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#用中值填补Age的空缺值</span><br>data[<span class="hljs-string">&#x27;X7&#x27;</span>]=data[<span class="hljs-string">&#x27;X7&#x27;</span>].fillna(data[<span class="hljs-string">&#x27;X7&#x27;</span>].median())<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data.describe()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
      <td>1197.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>6.426901</td>
      <td>0.729632</td>
      <td>15.062172</td>
      <td>1126.437761</td>
      <td>4567.460317</td>
      <td>38.210526</td>
      <td>0.730159</td>
      <td>0.369256</td>
      <td>0.150376</td>
      <td>34.609858</td>
      <td>0.735091</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3.463963</td>
      <td>0.097891</td>
      <td>10.943219</td>
      <td>1397.653191</td>
      <td>3348.823563</td>
      <td>160.182643</td>
      <td>12.709757</td>
      <td>3.268987</td>
      <td>0.427848</td>
      <td>22.197687</td>
      <td>0.174488</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>0.070000</td>
      <td>2.900000</td>
      <td>7.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>0.233705</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.000000</td>
      <td>0.700000</td>
      <td>3.940000</td>
      <td>970.000000</td>
      <td>1440.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>9.000000</td>
      <td>0.650307</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>6.000000</td>
      <td>0.750000</td>
      <td>15.260000</td>
      <td>1039.000000</td>
      <td>3960.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>34.000000</td>
      <td>0.773333</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>9.000000</td>
      <td>0.800000</td>
      <td>24.260000</td>
      <td>1083.000000</td>
      <td>6960.000000</td>
      <td>50.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>57.000000</td>
      <td>0.850253</td>
    </tr>
    <tr>
      <th>max</th>
      <td>12.000000</td>
      <td>0.800000</td>
      <td>54.560000</td>
      <td>23122.000000</td>
      <td>25920.000000</td>
      <td>3600.000000</td>
      <td>300.000000</td>
      <td>45.000000</td>
      <td>2.000000</td>
      <td>89.000000</td>
      <td>1.120437</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  重复值处理</span><br><br><span class="hljs-comment">#找出行重复的位置</span><br>dIndex = data.duplicated()<br>dIndex<br></code></pre></td></tr></table></figure>
<pre><code>0       False
1       False
2       False
3       False
4       False
        ...  
1192    False
1193    False
1194    False
1195    False
1196    False
Length: 1197, dtype: bool
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  可以看出没有重复值</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X0</th>
      <th>X1</th>
      <th>X2</th>
      <th>X3</th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>8</td>
      <td>0.80</td>
      <td>26.16</td>
      <td>1108.0</td>
      <td>7080</td>
      <td>98</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>59.0</td>
      <td>0.940725</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>finishing</td>
      <td>Thursday</td>
      <td>1</td>
      <td>0.75</td>
      <td>3.94</td>
      <td>1039.0</td>
      <td>960</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.886500</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>11</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>12</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>6</td>
      <td>0.80</td>
      <td>25.90</td>
      <td>1170.0</td>
      <td>1920</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>56.0</td>
      <td>0.800382</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br>plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>]=<span class="hljs-string">&#x27;SimHei&#x27;</span><br><br>corr = data[[<span class="hljs-string">&#x27;X0&#x27;</span>,<span class="hljs-string">&#x27;X1&#x27;</span>,<span class="hljs-string">&#x27;X2&#x27;</span>,<span class="hljs-string">&#x27;X3&#x27;</span>,<span class="hljs-string">&#x27;X4&#x27;</span>,<span class="hljs-string">&#x27;X5&#x27;</span>,<span class="hljs-string">&#x27;X6&#x27;</span>,<span class="hljs-string">&#x27;X7&#x27;</span>,<span class="hljs-string">&#x27;X8&#x27;</span>,<span class="hljs-string">&#x27;X9&#x27;</span>,<span class="hljs-string">&#x27;X10&#x27;</span>,<span class="hljs-string">&#x27;X11&#x27;</span>,<span class="hljs-string">&#x27;X12&#x27;</span>,<span class="hljs-string">&#x27;X13&#x27;</span>,<span class="hljs-string">&#x27;X14&#x27;</span>]].corr()<br>plt.figure(figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>))  <span class="hljs-comment"># 指定宽和高（单位：英寸）</span><br>sns.heatmap(corr,vmax=<span class="hljs-number">0.8</span>,annot=<span class="hljs-literal">True</span>) <span class="hljs-comment"># vmax设置热力图颜色取值的最大值；annot设置是否显示格子数字</span><br>plt.show()<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/fSYgPWKc"><img src="https://i.postimg.cc/yxG4kk3b/output-10-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-10-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  可以看出各个特征对期望生产率和实际生产率的影响率差异并不大，所以就有可能是期望的生产率没有切合一定的实际问题才导致的这样的差异</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">x = data[<span class="hljs-string">&#x27;X0&#x27;</span>]<br>y = data[<span class="hljs-string">&#x27;X5&#x27;</span>]<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.plot(x,y)<br>plt.show()<br><span class="hljs-comment"># seaborn</span><br>data= &#123;<br>    <span class="hljs-string">&#x27;x&#x27;</span>:x,<br>    <span class="hljs-string">&#x27;y&#x27;</span>:y<br>      &#125;<br>df = pd.DataFrame(data)<br>sns.lineplot(x=<span class="hljs-string">&#x27;x&#x27;</span>,y=<span class="hljs-string">&#x27;y&#x27;</span>,data=df)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/87ZX90h0"><img src="https://i.postimg.cc/1zSxnx4s/output-13-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-13-0.png"></a></p>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/D43x1kT8"><img src="https://i.postimg.cc/Vvd2QmZB/output-13-1.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-13-1.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">x = data[<span class="hljs-string">&#x27;X0&#x27;</span>]<br>y = data[<span class="hljs-string">&#x27;X14&#x27;</span>]<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.plot(x,y)<br>plt.show()<br><span class="hljs-comment"># seaborn</span><br>data= &#123;<br>    <span class="hljs-string">&#x27;x&#x27;</span>:x,<br>    <span class="hljs-string">&#x27;y&#x27;</span>:y<br>      &#125;<br>df = pd.DataFrame(data)<br>sns.lineplot(x=<span class="hljs-string">&#x27;x&#x27;</span>,y=<span class="hljs-string">&#x27;y&#x27;</span>,data=df)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/JtWwbSKN"><img src="https://i.postimg.cc/J7s1WLk2/output-15-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-15-0.png"></a></p>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/MvWhLRCX"><img src="https://i.postimg.cc/4NtsmQwv/output-15-1.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-15-1.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X0</th>
      <th>X1</th>
      <th>X2</th>
      <th>X3</th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>8</td>
      <td>0.80</td>
      <td>26.16</td>
      <td>1108.0</td>
      <td>7080</td>
      <td>98</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>59.0</td>
      <td>0.940725</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>finishing</td>
      <td>Thursday</td>
      <td>1</td>
      <td>0.75</td>
      <td>3.94</td>
      <td>NaN</td>
      <td>960</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.886500</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>11</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>12</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1/1/2015</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>6</td>
      <td>0.80</td>
      <td>25.90</td>
      <td>1170.0</td>
      <td>1920</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>56.0</td>
      <td>0.800382</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data[<span class="hljs-string">&#x27;X4&#x27;</span>].unique()<br></code></pre></td></tr></table></figure>
<pre><code>array([ 8,  1, 11, 12,  6,  7,  2,  3,  9, 10,  5,  4], dtype=int64)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  一共有12个团队</span><br>data1=data.drop([<span class="hljs-string">&#x27;X0&#x27;</span>,<span class="hljs-string">&#x27;X1&#x27;</span>,<span class="hljs-string">&#x27;X2&#x27;</span>,<span class="hljs-string">&#x27;X3&#x27;</span>],axis=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data1.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>8</td>
      <td>0.80</td>
      <td>26.16</td>
      <td>1108.0</td>
      <td>7080</td>
      <td>98</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>59.0</td>
      <td>0.940725</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>0.75</td>
      <td>3.94</td>
      <td>1039.0</td>
      <td>960</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.886500</td>
    </tr>
    <tr>
      <th>2</th>
      <td>11</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>3</th>
      <td>12</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6</td>
      <td>0.80</td>
      <td>25.90</td>
      <td>1170.0</td>
      <td>1920</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>56.0</td>
      <td>0.800382</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 求出簇内误方差</span><br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> scale<br>x=pd.DataFrame(scale(data1))<br>SSE = [] <br>k_range = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>)<br><span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> k_range:<br>    km = KMeans(n_clusters = k)<br>    km.fit(x)<br>    SSE.append(km.inertia_)<br>SSE<br></code></pre></td></tr></table></figure>
<pre><code>[13167.000000000002,
 10368.001747788787,
 8985.612362104612,
 7956.326143721504,
 6934.1999209667265,
 6364.89500698171,
 5600.08786819714,
 4740.428352871961,
 4360.332443867376,
 3918.830271323268,
 3613.3367590027497,
 3302.354785621584,
 3095.576217636003,
 2963.791234943202,
 2686.863451514291,
 2584.874003399748,
 2427.534059702044,
 2337.8239778345887,
 2250.377455323783]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 然后利用手肘法找出最佳的k值</span><br><br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br> <br>df_features = data1 <span class="hljs-comment"># 读入数据</span><br><br><span class="hljs-comment"># 利用SSE选择k</span><br><span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>):<br>    estimator = KMeans(n_clusters=k)  <span class="hljs-comment"># 构造聚类器</span><br>    estimator.fit(df_features[[ <span class="hljs-string">&#x27;X4&#x27;</span>, <span class="hljs-string">&#x27;X14&#x27;</span>]])<br>X = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;k&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;sse&#x27;</span>)<br>plt.plot(X,SSE,<span class="hljs-string">&#x27;o-&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/ygmbQYnF"><img src="https://i.postimg.cc/gJQb0xZB/output-21-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-21-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 可以看出最佳k值为5</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data2 = data1[[<span class="hljs-string">&#x27;X4&#x27;</span>,<span class="hljs-string">&#x27;X14&#x27;</span>]]<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># k-means </span><br>clf = KMeans(n_clusters=<span class="hljs-number">5</span>)<br><span class="hljs-comment">#print(data2)</span><br>clf = clf.fit(data2)<br>clf.labels_<br></code></pre></td></tr></table></figure>
<pre><code>array([4, 0, 3, ..., 4, 1, 4])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#获取中心值</span><br>centroids=clf.cluster_centers_<br>centroids<br></code></pre></td></tr></table></figure>
<pre><code>array([[ 1.50934579,  0.7954856 ],
       [ 9.49019608,  0.72724343],
       [ 3.99317406,  0.75813807],
       [11.52941176,  0.73337501],
       [ 7.05016722,  0.67570864]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  用每簇的中心值来代表这一类的水平</span><br><br>columns=[<span class="hljs-string">&#x27;X4&#x27;</span>, <span class="hljs-string">&#x27;X14&#x27;</span>]<br>result=pd.DataFrame(centroids,columns=columns)<br><br>result<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X4</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.509346</td>
      <td>0.795486</td>
    </tr>
    <tr>
      <th>1</th>
      <td>9.490196</td>
      <td>0.727243</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.993174</td>
      <td>0.758138</td>
    </tr>
    <tr>
      <th>3</th>
      <td>11.529412</td>
      <td>0.733375</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7.050167</td>
      <td>0.675709</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 数据归一</span><br>result=(result-result.mean(axis=<span class="hljs-number">0</span>))/(result.std(axis=<span class="hljs-number">0</span>))<br>result<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X4</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-1.286294</td>
      <td>1.308114</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.685944</td>
      <td>-0.244505</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.672487</td>
      <td>0.458397</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.189877</td>
      <td>-0.105002</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.082961</td>
      <td>-1.417004</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>] = [<span class="hljs-string">&#x27;SimHei&#x27;</span>]<br>plt.rcParams[<span class="hljs-string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="hljs-literal">False</span><br><br>result[<span class="hljs-string">&#x27;团队分类&#x27;</span>]=<span class="hljs-built_in">list</span>([<span class="hljs-string">&#x27;团队1&#x27;</span>,<span class="hljs-string">&#x27;团队2&#x27;</span>,<span class="hljs-string">&#x27;团队3&#x27;</span>,<span class="hljs-string">&#x27;团队4&#x27;</span>,<span class="hljs-string">&#x27;团队5&#x27;</span>]) <br>p=result.plot.bar(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">16</span>),x=<span class="hljs-string">&#x27;团队分类&#x27;</span>,title=<span class="hljs-string">&#x27;团队分类&#x27;</span>,legend=<span class="hljs-string">&#x27;beast&#x27;</span>)<br>p.grid(linestyle=<span class="hljs-string">&#x27;--&#x27;</span>)<br>p.legend(fontsize=<span class="hljs-number">11</span>)<br></code></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.legend.Legend at 0x290ef9f0940&gt;
</code></pre><p><a target="_blank" rel="noopener" href="https://postimg.cc/s1JL5xMz"><img src="https://i.postimg.cc/RVrz5n9W/output-28-1.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-28-1.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 求出簇内误方差</span><br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> scale<br>x=pd.DataFrame(scale(data1))<br>SSE = [] <br>k_range = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>)<br><span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> k_range:<br>    km = KMeans(n_clusters = k)<br>    km.fit(x)<br>    SSE.append(km.inertia_)<br>SSE<br></code></pre></td></tr></table></figure>
<pre><code>[13167.000000000002,
 10368.001747788787,
 9059.320705761347,
 7910.63025239119,
 6956.651138200236,
 6077.878903205976,
 5511.898303743294,
 4795.324291351495,
 4429.152799214559,
 3906.8041968464554,
 3603.2482162246365,
 3316.165899966484,
 3147.436870420017,
 2878.2859554852253,
 2684.5121690958435,
 2563.069034412572,
 2421.7083978310657,
 2315.6588424369897,
 2228.865852777383]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br> <br>df_features = data1 <span class="hljs-comment"># 读入数据</span><br><br><span class="hljs-comment"># 利用SSE选择k</span><br><span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>):<br>    estimator = KMeans(n_clusters=k)  <span class="hljs-comment"># 构造聚类器</span><br>    estimator.fit(df_features[[ <span class="hljs-string">&#x27;X4&#x27;</span>,<span class="hljs-string">&#x27;X5&#x27;</span>,<span class="hljs-string">&#x27;X6&#x27;</span>,<span class="hljs-string">&#x27;X7&#x27;</span>,<span class="hljs-string">&#x27;X8&#x27;</span>,<span class="hljs-string">&#x27;X9&#x27;</span>,<span class="hljs-string">&#x27;X10&#x27;</span>,<span class="hljs-string">&#x27;X11&#x27;</span>,<span class="hljs-string">&#x27;X12&#x27;</span>,<span class="hljs-string">&#x27;X13&#x27;</span>,<span class="hljs-string">&#x27;X14&#x27;</span>]])<br>X = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;k&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;sse&#x27;</span>)<br>plt.plot(X,SSE,<span class="hljs-string">&#x27;o-&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/JG6ddF3d"><img src="https://i.postimg.cc/FHN515Ym/output-30-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-30-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># k-means </span><br>clf = KMeans(n_clusters=<span class="hljs-number">5</span>)<br><br>clf = clf.fit(data1)<br>clf.labels_<br></code></pre></td></tr></table></figure>
<pre><code>array([1, 4, 0, ..., 4, 4, 4])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#获取中心值</span><br>centroids=clf.cluster_centers_<br>centroids<br></code></pre></td></tr></table></figure>
<pre><code>array([[ 7.64179104e+00,  7.33582090e-01,  1.41852239e+01,
         9.67542289e+02,  3.75223881e+03,  2.67114428e+01,
         2.23880597e-02,  1.49253731e-01,  2.43781095e-01,
         3.34527363e+01,  7.22864179e-01],
       [ 5.97450425e+00,  7.15212465e-01,  2.35174788e+01,
         1.06944476e+03,  6.65855524e+03,  4.08356941e+01,
         2.37960340e+00,  7.13881020e-01,  3.03116147e-01,
         5.24617564e+01,  7.15187532e-01],
       [ 5.93333333e+00,  7.23939394e-01,  2.39216364e+01,
         1.08087273e+03,  1.05087273e+04,  4.88242424e+01,
         7.77156117e-16,  7.21644966e-16, -1.66533454e-16,
         5.49757576e+01,  7.34676496e-01],
       [ 5.33333333e+00,  8.00000000e-01,  2.13800000e+01,
         1.94093333e+04,  6.19000000e+03,  7.86666667e+01,
         1.11022302e-16,  0.00000000e+00,  0.00000000e+00,
         5.35833333e+01,  8.83637858e-01],
       [ 6.43432203e+00,  7.39830508e-01,  5.93468220e+00,
         1.02024576e+03,  1.25317797e+03,  3.69194915e+01,
         6.25000000e-02,  3.38983051e-01,  5.08474576e-02,
         1.43908898e+01,  7.53440033e-01]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  用每簇的中心值来代表这一类的水平</span><br><br>columns=[ <span class="hljs-string">&#x27;X4&#x27;</span>,<span class="hljs-string">&#x27;X5&#x27;</span>,<span class="hljs-string">&#x27;X6&#x27;</span>,<span class="hljs-string">&#x27;X7&#x27;</span>,<span class="hljs-string">&#x27;X8&#x27;</span>,<span class="hljs-string">&#x27;X9&#x27;</span>,<span class="hljs-string">&#x27;X10&#x27;</span>,<span class="hljs-string">&#x27;X11&#x27;</span>,<span class="hljs-string">&#x27;X12&#x27;</span>,<span class="hljs-string">&#x27;X13&#x27;</span>,<span class="hljs-string">&#x27;X14&#x27;</span>]<br>result=pd.DataFrame(centroids,columns=columns)<br><br>result<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7.641791</td>
      <td>0.733582</td>
      <td>14.185224</td>
      <td>967.542289</td>
      <td>3752.238806</td>
      <td>26.711443</td>
      <td>2.238806e-02</td>
      <td>1.492537e-01</td>
      <td>2.437811e-01</td>
      <td>33.452736</td>
      <td>0.722864</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5.974504</td>
      <td>0.715212</td>
      <td>23.517479</td>
      <td>1069.444759</td>
      <td>6658.555241</td>
      <td>40.835694</td>
      <td>2.379603e+00</td>
      <td>7.138810e-01</td>
      <td>3.031161e-01</td>
      <td>52.461756</td>
      <td>0.715188</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5.933333</td>
      <td>0.723939</td>
      <td>23.921636</td>
      <td>1080.872727</td>
      <td>10508.727273</td>
      <td>48.824242</td>
      <td>7.771561e-16</td>
      <td>7.216450e-16</td>
      <td>-1.665335e-16</td>
      <td>54.975758</td>
      <td>0.734676</td>
    </tr>
    <tr>
      <th>3</th>
      <td>5.333333</td>
      <td>0.800000</td>
      <td>21.380000</td>
      <td>19409.333333</td>
      <td>6190.000000</td>
      <td>78.666667</td>
      <td>1.110223e-16</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>53.583333</td>
      <td>0.883638</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6.434322</td>
      <td>0.739831</td>
      <td>5.934682</td>
      <td>1020.245763</td>
      <td>1253.177966</td>
      <td>36.919492</td>
      <td>6.250000e-02</td>
      <td>3.389831e-01</td>
      <td>5.084746e-02</td>
      <td>14.390890</td>
      <td>0.753440</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 数据归一</span><br>result=(result-result.mean(axis=<span class="hljs-number">0</span>))/(result.std(axis=<span class="hljs-number">0</span>))<br>result<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.595128</td>
      <td>-0.266799</td>
      <td>-0.468191</td>
      <td>-0.455358</td>
      <td>-0.555229</td>
      <td>-0.997981</td>
      <td>-0.445977</td>
      <td>-0.304834</td>
      <td>0.865386</td>
      <td>-0.471215</td>
      <td>-0.562291</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.334401</td>
      <td>-0.815573</td>
      <td>0.744629</td>
      <td>-0.442958</td>
      <td>0.285093</td>
      <td>-0.281737</td>
      <td>1.788331</td>
      <td>1.583047</td>
      <td>1.278707</td>
      <td>0.605367</td>
      <td>-0.672696</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.382048</td>
      <td>-0.554865</td>
      <td>0.797153</td>
      <td>-0.441567</td>
      <td>1.398317</td>
      <td>0.123365</td>
      <td>-0.467198</td>
      <td>-0.803878</td>
      <td>-0.832763</td>
      <td>0.747749</td>
      <td>-0.392407</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-1.076420</td>
      <td>1.717371</td>
      <td>0.466842</td>
      <td>1.788828</td>
      <td>0.149616</td>
      <td>1.636681</td>
      <td>-0.467198</td>
      <td>-0.803878</td>
      <td>-0.832763</td>
      <td>0.668888</td>
      <td>1.749945</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.197740</td>
      <td>-0.080134</td>
      <td>-1.540432</td>
      <td>-0.448945</td>
      <td>-1.277798</td>
      <td>-0.480328</td>
      <td>-0.407957</td>
      <td>0.329542</td>
      <td>-0.478566</td>
      <td>-1.550789</td>
      <td>-0.122551</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>] = [<span class="hljs-string">&#x27;SimHei&#x27;</span>]<br>plt.rcParams[<span class="hljs-string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="hljs-literal">False</span><br><br>result[<span class="hljs-string">&#x27;团队分类&#x27;</span>]=<span class="hljs-built_in">list</span>([<span class="hljs-string">&#x27;团队1&#x27;</span>,<span class="hljs-string">&#x27;团队2&#x27;</span>,<span class="hljs-string">&#x27;团队3&#x27;</span>,<span class="hljs-string">&#x27;团队4&#x27;</span>,<span class="hljs-string">&#x27;团队5&#x27;</span>]) <br>p=result.plot.bar(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">16</span>),x=<span class="hljs-string">&#x27;团队分类&#x27;</span>,title=<span class="hljs-string">&#x27;团队分类&#x27;</span>,legend=<span class="hljs-string">&#x27;beast&#x27;</span>)<br>p.grid(linestyle=<span class="hljs-string">&#x27;--&#x27;</span>)<br>p.legend(fontsize=<span class="hljs-number">11</span>)<br></code></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.legend.Legend at 0x290efa33780&gt;
</code></pre><p><a target="_blank" rel="noopener" href="https://postimg.cc/cgSDnGZ6"><img src="https://i.postimg.cc/W3DxxsHm/output-35-1.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-35-1.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  把时间类型改成datatime类型</span><br><br>data[<span class="hljs-string">&#x27;X0&#x27;</span>] = pd.to_datetime(data[<span class="hljs-string">&#x27;X0&#x27;</span>], <span class="hljs-built_in">format</span>=<span class="hljs-string">&#x27;%m/%d/%Y&#x27;</span>)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  设置起始时间</span><br><span class="hljs-keyword">import</span> datetime<br>start = datetime.datetime(<span class="hljs-number">2015</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>end = datetime.datetime(<span class="hljs-number">2015</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">subset = data[data[<span class="hljs-string">&#x27;X0&#x27;</span>]&gt;=start]<br>data3 = subset[subset[<span class="hljs-string">&#x27;X0&#x27;</span>]&lt;=end]<br>data3.shape<br></code></pre></td></tr></table></figure>
<pre><code>(1005, 15)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  选出我们要使用的数据</span><br>data3<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X0</th>
      <th>X1</th>
      <th>X2</th>
      <th>X3</th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2015-01-01</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>8</td>
      <td>0.80</td>
      <td>26.16</td>
      <td>1108.0</td>
      <td>7080</td>
      <td>98</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>59.0</td>
      <td>0.940725</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2015-01-01</td>
      <td>Quarter1</td>
      <td>finishing</td>
      <td>Thursday</td>
      <td>1</td>
      <td>0.75</td>
      <td>3.94</td>
      <td>1039.0</td>
      <td>960</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.886500</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2015-01-01</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>11</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2015-01-01</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>12</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2015-01-01</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Thursday</td>
      <td>6</td>
      <td>0.80</td>
      <td>25.90</td>
      <td>1170.0</td>
      <td>1920</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>56.0</td>
      <td>0.800382</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1000</th>
      <td>2015-03-01</td>
      <td>Quarter1</td>
      <td>finishing</td>
      <td>Sunday</td>
      <td>2</td>
      <td>0.70</td>
      <td>3.90</td>
      <td>1039.0</td>
      <td>960</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.585000</td>
    </tr>
    <tr>
      <th>1001</th>
      <td>2015-03-01</td>
      <td>Quarter1</td>
      <td>sweing</td>
      <td>Sunday</td>
      <td>7</td>
      <td>0.80</td>
      <td>30.10</td>
      <td>934.0</td>
      <td>6960</td>
      <td>0</td>
      <td>3.5</td>
      <td>15</td>
      <td>0</td>
      <td>58.0</td>
      <td>0.579511</td>
    </tr>
    <tr>
      <th>1002</th>
      <td>2015-03-01</td>
      <td>Quarter1</td>
      <td>finishing</td>
      <td>Sunday</td>
      <td>1</td>
      <td>0.60</td>
      <td>3.94</td>
      <td>1039.0</td>
      <td>3360</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.448722</td>
    </tr>
    <tr>
      <th>1003</th>
      <td>2015-03-01</td>
      <td>Quarter1</td>
      <td>finishing</td>
      <td>Sunday</td>
      <td>9</td>
      <td>0.75</td>
      <td>2.90</td>
      <td>1039.0</td>
      <td>960</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.447083</td>
    </tr>
    <tr>
      <th>1004</th>
      <td>2015-03-01</td>
      <td>Quarter1</td>
      <td>finishing</td>
      <td>Sunday</td>
      <td>7</td>
      <td>0.80</td>
      <td>4.60</td>
      <td>1039.0</td>
      <td>3360</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.350417</td>
    </tr>
  </tbody>
</table>
<p>1005 rows × 15 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">data3[<span class="hljs-string">&#x27;X2&#x27;</span>].unique()<br><br><span class="hljs-comment">#  一共有三个部门</span><br></code></pre></td></tr></table></figure>
<pre><code>array([&#39;sweing&#39;, &#39;finishing &#39;, &#39;finishing&#39;], dtype=object)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  因为我们更注重实际生产率，所以我们需要观察各个因素对实际生产率的影响</span><br><br><span class="hljs-comment">#  通过做corr（）相关系数热力图来查看皮尔逊相关系数比较相关性的大小</span><br><br><span class="hljs-comment"># 但是我们可以看出各个因素对实际生产率的影响都不是很大，所以我选择把相关系数大于0.1的因素当成主要因素，当然我们可以考虑把小于0.1的因素去除</span><br><span class="hljs-comment">#  X7 X8 X9 X10 X13相关系数小于0.1</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">data4=data3.drop([<span class="hljs-string">&#x27;X0&#x27;</span>,<span class="hljs-string">&#x27;X1&#x27;</span>,<span class="hljs-string">&#x27;X2&#x27;</span>,<span class="hljs-string">&#x27;X3&#x27;</span>],axis=<span class="hljs-number">1</span>)<br>data4.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>X11</th>
      <th>X12</th>
      <th>X13</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>8</td>
      <td>0.80</td>
      <td>26.16</td>
      <td>1108.0</td>
      <td>7080</td>
      <td>98</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>59.0</td>
      <td>0.940725</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>0.75</td>
      <td>3.94</td>
      <td>1039.0</td>
      <td>960</td>
      <td>0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0</td>
      <td>0.886500</td>
    </tr>
    <tr>
      <th>2</th>
      <td>11</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>3</th>
      <td>12</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>968.0</td>
      <td>3660</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.5</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6</td>
      <td>0.80</td>
      <td>25.90</td>
      <td>1170.0</td>
      <td>1920</td>
      <td>50</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>56.0</td>
      <td>0.800382</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  处理完后的数据</span><br><br>y = data4.X14.values<br>X = data4.drop([<span class="hljs-string">&#x27;X14&#x27;</span>], axis = <span class="hljs-number">1</span>)<br>X.shape<br></code></pre></td></tr></table></figure>
<pre><code>(1005, 10)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  对数据进行分割并进行归一化处理</span><br><span class="hljs-comment">#  作用：去均值和方差归一化。且是针对每一个特征维度来做的，而不是针对样本。（StandardScaler） </span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br>X_train,X_test,y_train,y_test = train_test_split(X,y,random_state=<span class="hljs-number">6</span>)  <span class="hljs-comment">#随机种子6</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br><br>standardScaler = StandardScaler()<br>standardScaler.fit(X_train)<br>X_train = standardScaler.transform(X_train)<br>X_test = standardScaler.transform(X_test) <br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#模型构建（逻辑回归）</span><br><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression <br><br>log_reg = LogisticRegression()<br>log_reg.fit(X_train,y_train.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>LogisticRegression()
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># LogisticRegression的一些参数</span><br><br>LogisticRegression(C=<span class="hljs-number">1.0</span>, class_weight=<span class="hljs-literal">None</span>, dual=<span class="hljs-literal">False</span>, fit_intercept=<span class="hljs-literal">True</span>,<br>          intercept_scaling=<span class="hljs-number">1</span>, max_iter=<span class="hljs-number">100</span>, multi_class=<span class="hljs-string">&#x27;ovr&#x27;</span>, n_jobs=<span class="hljs-number">1</span>,<br>          penalty=<span class="hljs-string">&#x27;l2&#x27;</span>, random_state=<span class="hljs-literal">None</span>, solver=<span class="hljs-string">&#x27;liblinear&#x27;</span>, tol=<span class="hljs-number">0.0001</span>,<br>          verbose=<span class="hljs-number">0</span>, warm_start=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure>
<pre><code>LogisticRegression(multi_class=&#39;ovr&#39;, n_jobs=1, solver=&#39;liblinear&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">log_reg.score(X_train,y_train.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>0.9867197875166003
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">log_reg.score(X_test,y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>0.9761904761904762
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score<br><br><br>y_predict_log = log_reg.predict(X_test)<br><br><span class="hljs-comment"># 调用accuracy_score计算分类准确度（metrices模型评估，指标这里面有accuracy_score这个就是准确率的计算）</span><br>accuracy_score(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_log)<br></code></pre></td></tr></table></figure>
<pre><code>0.9761904761904762
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  使用网格搜索找出更好的模型参数</span><br><span class="hljs-comment">#  param_grid字典或字典列表（参数）</span><br><span class="hljs-comment"># 下面是构建parameter grid，其结构是key为参数名称，value是待搜索的数值列表的一个字典结构</span><br>param_grid = [<br>    &#123;<br>        <span class="hljs-string">&#x27;C&#x27;</span>:[<span class="hljs-number">0.01</span>,<span class="hljs-number">0.1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">100</span>],<br>        <span class="hljs-string">&#x27;penalty&#x27;</span>:[<span class="hljs-string">&#x27;l2&#x27;</span>,<span class="hljs-string">&#x27;l1&#x27;</span>],<br>        <span class="hljs-string">&#x27;class_weight&#x27;</span>:[<span class="hljs-string">&#x27;balanced&#x27;</span>,<span class="hljs-literal">None</span>]<br>    &#125;<br>]<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> GridSearchCV<br><br>grid_search = GridSearchCV(log_reg,param_grid,cv=<span class="hljs-number">10</span>,n_jobs=-<span class="hljs-number">1</span>)<br><span class="hljs-comment"># 使用 GridSearchCV 高效调参</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">%%time<br>grid_search.fit(X_train,y_train.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>Wall time: 1.69 s





GridSearchCV(cv=10, estimator=LogisticRegression(), n_jobs=-1,
             param_grid=[&#123;&#39;C&#39;: [0.01, 0.1, 1, 10, 100],
                          &#39;class_weight&#39;: [&#39;balanced&#39;, None],
                          &#39;penalty&#39;: [&#39;l2&#39;, &#39;l1&#39;]&#125;])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  获取最佳估算器(模型)</span><br><br>grid_search.best_estimator_<br></code></pre></td></tr></table></figure>
<pre><code>LogisticRegression(C=1)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">LogisticRegression(C=<span class="hljs-number">0.01</span>, class_weight=<span class="hljs-literal">None</span>, dual=<span class="hljs-literal">False</span>, fit_intercept=<span class="hljs-literal">True</span>,<br>          intercept_scaling=<span class="hljs-number">1</span>, max_iter=<span class="hljs-number">100</span>, multi_class=<span class="hljs-string">&#x27;ovr&#x27;</span>, n_jobs=<span class="hljs-number">1</span>,<br>          penalty=<span class="hljs-string">&#x27;l2&#x27;</span>, random_state=<span class="hljs-literal">None</span>, solver=<span class="hljs-string">&#x27;liblinear&#x27;</span>, tol=<span class="hljs-number">0.0001</span>,<br>          verbose=<span class="hljs-number">0</span>, warm_start=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure>
<pre><code>LogisticRegression(C=0.01, multi_class=&#39;ovr&#39;, n_jobs=1, solver=&#39;liblinear&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 查看最佳分数</span><br><br>grid_search.best_score_<br></code></pre></td></tr></table></figure>
<pre><code>0.9853859649122807
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  查看最佳参数</span><br><br>grid_search.best_params_<br></code></pre></td></tr></table></figure>
<pre><code>&#123;&#39;C&#39;: 1, &#39;class_weight&#39;: None, &#39;penalty&#39;: &#39;l2&#39;&#125;
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">log_reg = grid_search.best_estimator_<br>log_reg.score(X_train,y_train.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>0.9867197875166003
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">log_reg.score(X_test,y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>0.9761904761904762
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#查看F1指标</span><br><span class="hljs-comment">#  F1分数（F1-Score），又称为平衡F分数（BalancedScore），它被定义为精确率和召回率的调和平均数。</span><br><span class="hljs-comment">#  F1 = 2*（p*r）/(p+r)</span><br><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> f1_score<br><br>f1_score(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_log)<br></code></pre></td></tr></table></figure>
<pre><code>0.5
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> classification_report<br><br><br><span class="hljs-built_in">print</span>(classification_report(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_log))<br></code></pre></td></tr></table></figure>
<pre><code>              precision    recall  f1-score   support

           0       0.98      1.00      0.99       244
           1       0.75      0.38      0.50         8

    accuracy                           0.98       252
   macro avg       0.86      0.69      0.74       252
weighted avg       0.97      0.98      0.97       252
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#绘制混淆矩阵（可能性表格或是错误矩阵），评估分类的准确性</span><br><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> confusion_matrix<br>cnf_matrix = confusion_matrix(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_log)<br>cnf_matrix<br></code></pre></td></tr></table></figure>
<pre><code>array([[243,   1],
       [  5,   3]], dtype=int64)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">plot_cnf_matirx</span>(<span class="hljs-params">cnf_matrix,description</span>):</span><br>    class_names = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]<br>    fig,ax = plt.subplots()<br>    tick_marks = np.arange(<span class="hljs-built_in">len</span>(class_names))<br>    plt.xticks(tick_marks,class_names)<br>    plt.yticks(tick_marks,class_names)<br><br><span class="hljs-comment">#create a heat map</span><br>    sns.heatmap(pd.DataFrame(cnf_matrix), annot = <span class="hljs-literal">True</span>, cmap = <span class="hljs-string">&#x27;OrRd&#x27;</span>,<br>               fmt = <span class="hljs-string">&#x27;g&#x27;</span>)<br>    ax.xaxis.set_label_position(<span class="hljs-string">&#x27;top&#x27;</span>)<br>    plt.tight_layout()<br>    plt.title(description, y = <span class="hljs-number">1.1</span>,fontsize=<span class="hljs-number">16</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;实际值0/1&#x27;</span>,fontsize=<span class="hljs-number">12</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;预测值0/1&#x27;</span>,fontsize=<span class="hljs-number">12</span>)<br>    plt.show()<br>    <br>plot_cnf_matirx(cnf_matrix,<span class="hljs-string">&#x27;Confusion matrix -- Logistic Regression&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/3dRtpBMj"><img src="https://i.postimg.cc/CLCX3Pm2/output-63-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-63-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">decision_scores = log_reg.decision_function(X_test)<br><span class="hljs-comment"># 数据X上的异常打分，分数越高，则该数据点的异常程度越高</span><br><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> precision_recall_curve<br><br>precisions,recalls,thresholds = precision_recall_curve(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),decision_scores)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  绘制AUC图</span><br><br>plt.plot(thresholds,precisions[:-<span class="hljs-number">1</span>])<br>plt.plot(thresholds,recalls[:-<span class="hljs-number">1</span>])<br>plt.grid()<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/VSygxPJ4"><img src="https://i.postimg.cc/MGHLjWqk/output-65-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-65-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 绘制ROC曲线</span><br><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve<br><br>fprs,tprs,thresholds = roc_curve(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),decision_scores)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">plot_roc_curve</span>(<span class="hljs-params">fprs,tprs</span>):</span><br>    plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">6</span>),dpi=<span class="hljs-number">80</span>)<br>    plt.plot(fprs,tprs)<br>    plt.plot([<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],linestyle=<span class="hljs-string">&#x27;--&#x27;</span>)<br>    plt.xticks(fontsize=<span class="hljs-number">13</span>)<br>    plt.yticks(fontsize=<span class="hljs-number">13</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;TP rate&#x27;</span>,fontsize=<span class="hljs-number">15</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;FP rate&#x27;</span>,fontsize=<span class="hljs-number">15</span>)<br>    plt.title(<span class="hljs-string">&#x27;ROC&#x27;</span>,fontsize=<span class="hljs-number">17</span>)<br>    plt.show()<br>    <br>plot_roc_curve(fprs,tprs)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/HjS2pyJr"><img src="https://i.postimg.cc/CL06sCSs/output-67-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-67-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 求面积,相当于求得分（AUC,ROC的面积）</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_auc_score  <span class="hljs-comment">#auc:area under curve</span><br><br>roc_auc_score(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),decision_scores)<br></code></pre></td></tr></table></figure>
<pre><code>0.825563524590164
</code></pre><h1 id="逻辑回归模型得分0-82556"><a href="#逻辑回归模型得分0-82556" class="headerlink" title="逻辑回归模型得分0.82556"></a>逻辑回归模型得分0.82556</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#模型创建–KNN临近算法，略过基本模型的创建,直接使用网格搜索进行参数调优</span><br><br>param_grid = [<br>    &#123;<br>        <span class="hljs-string">&#x27;weights&#x27;</span>:[<span class="hljs-string">&#x27;uniform&#x27;</span>],<br>        <span class="hljs-string">&#x27;n_neighbors&#x27;</span>:[i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">31</span>)]<br>    &#125;,<br>    &#123;<br>        <span class="hljs-string">&#x27;weights&#x27;</span>:[<span class="hljs-string">&#x27;distance&#x27;</span>],<br>        <span class="hljs-string">&#x27;n_neighbors&#x27;</span>:[i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">31</span>)],<br>        <span class="hljs-string">&#x27;p&#x27;</span>:[i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">6</span>)]<br>    &#125;<br>]<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">%%time<br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsClassifier<br>knn_clf = KNeighborsClassifier()<br><br>grid_search = GridSearchCV(knn_clf,param_grid)<br><br>grid_search.fit(X_train,y_train.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>Wall time: 14.3 s





GridSearchCV(estimator=KNeighborsClassifier(),
             param_grid=[&#123;&#39;n_neighbors&#39;: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,
                                          13, 14, 15, 16, 17, 18, 19, 20, 21,
                                          22, 23, 24, 25, 26, 27, 28, 29, 30],
                          &#39;weights&#39;: [&#39;uniform&#39;]&#125;,
                         &#123;&#39;n_neighbors&#39;: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,
                                          13, 14, 15, 16, 17, 18, 19, 20, 21,
                                          22, 23, 24, 25, 26, 27, 28, 29, 30],
                          &#39;p&#39;: [1, 2, 3, 4, 5], &#39;weights&#39;: [&#39;distance&#39;]&#125;])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grid_search.best_estimator_<br></code></pre></td></tr></table></figure>
<pre><code>KNeighborsClassifier(n_neighbors=3)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">KNeighborsClassifier(algorithm=<span class="hljs-string">&#x27;auto&#x27;</span>, leaf_size=<span class="hljs-number">30</span>, metric=<span class="hljs-string">&#x27;minkowski&#x27;</span>,<br>           metric_params=<span class="hljs-literal">None</span>, n_jobs=<span class="hljs-number">1</span>, n_neighbors=<span class="hljs-number">24</span>, p=<span class="hljs-number">3</span>,<br>           weights=<span class="hljs-string">&#x27;distance&#x27;</span>)<br></code></pre></td></tr></table></figure>
<pre><code>KNeighborsClassifier(n_jobs=1, n_neighbors=24, p=3, weights=&#39;distance&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grid_search.best_score_<br></code></pre></td></tr></table></figure>
<pre><code>0.9840618101545253
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grid_search.best_params_<br></code></pre></td></tr></table></figure>
<pre><code>&#123;&#39;n_neighbors&#39;: 3, &#39;weights&#39;: &#39;uniform&#39;&#125;
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">knn_clf = grid_search.best_estimator_<br>knn_clf.score(X_train,y_train.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>0.9853917662682603
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">knn_clf.score(X_test,y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>0.9801587301587301
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">y_predict_knn = knn_clf.predict(X_test)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  查看F1指标</span><br><br>f1_score(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_knn)<br></code></pre></td></tr></table></figure>
<pre><code>0.5454545454545454
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(classification_report(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_knn))<br></code></pre></td></tr></table></figure>
<pre><code>              precision    recall  f1-score   support

           0       0.98      1.00      0.99       244
           1       1.00      0.38      0.55         8

    accuracy                           0.98       252
   macro avg       0.99      0.69      0.77       252
weighted avg       0.98      0.98      0.98       252
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  绘制混淆矩阵</span><br><br>cnf_matrix = confusion_matrix(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_knn)<br>cnf_matrix<br></code></pre></td></tr></table></figure>
<pre><code>array([[244,   0],
       [  5,   3]], dtype=int64)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 此处调用前面的绘制函数</span><br>plot_cnf_matirx(cnf_matrix,<span class="hljs-string">&#x27;Confusion matrix -- KNN&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/4YpVh73b"><img src="https://i.postimg.cc/dVxBpGPX/output-82-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-82-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  绘制AUC图</span><br><br>y_probabilities = knn_clf.predict_proba(X_test)[:,<span class="hljs-number">1</span>]<br><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> precision_recall_curve<br><br>precisions,recalls,thresholds = precision_recall_curve(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_probabilities)<br><br>plt.plot(thresholds,precisions[:-<span class="hljs-number">1</span>])<br>plt.plot(thresholds,recalls[:-<span class="hljs-number">1</span>])<br>plt.grid()<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/NyYT8s9h"><img src="https://i.postimg.cc/9fwphzcf/output-83-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-83-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  绘制ROC曲线</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve<br><br>fprs2,tprs2,thresholds = roc_curve(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),decision_scores)<br><span class="hljs-comment"># 此处调用前面的绘制函数</span><br>plot_roc_curve(fprs2,tprs2)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/HjS2pyJr"><img src="https://i.postimg.cc/CL06sCSs/output-67-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-67-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 求面积,相当于求得分</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_auc_score  <span class="hljs-comment">#auc:area under curve</span><br><br>roc_auc_score(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_probabilities)<br></code></pre></td></tr></table></figure>
<pre><code>0.7984118852459017
</code></pre><h1 id="KNN模型的得分为0-798411"><a href="#KNN模型的得分为0-798411" class="headerlink" title="KNN模型的得分为0.798411"></a>KNN模型的得分为0.798411</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  模型创建–DecisionTree</span><br><br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier<br>dt_clf= DecisionTreeClassifier(random_state=<span class="hljs-number">6</span>)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> GridSearchCV<br>param_grid = [<br>    &#123;<br>        <span class="hljs-string">&#x27;max_features&#x27;</span>:[<span class="hljs-string">&#x27;auto&#x27;</span>,<span class="hljs-string">&#x27;sqrt&#x27;</span>,<span class="hljs-string">&#x27;log2&#x27;</span>],<br>        <span class="hljs-string">&#x27;min_samples_split&#x27;</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>,<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">18</span>],<br>        <span class="hljs-string">&#x27;min_samples_leaf&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">11</span>]<br>    &#125;<br>]<br><br>grid_search = GridSearchCV(dt_clf,param_grid)<br><br>grid_search.fit(X_train,y_train.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>GridSearchCV(estimator=DecisionTreeClassifier(random_state=6),
             param_grid=[&#123;&#39;max_features&#39;: [&#39;auto&#39;, &#39;sqrt&#39;, &#39;log2&#39;],
                          &#39;min_samples_leaf&#39;: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                                               11],
                          &#39;min_samples_split&#39;: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11,
                                                12, 13, 14, 15, 16, 17, 18]&#125;])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grid_search.best_estimator_<br></code></pre></td></tr></table></figure>
<pre><code>DecisionTreeClassifier(max_features=&#39;auto&#39;, min_samples_split=9, random_state=6)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grid_search.best_score_<br></code></pre></td></tr></table></figure>
<pre><code>0.9814128035320089
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grid_search.best_params_<br></code></pre></td></tr></table></figure>
<pre><code>&#123;&#39;max_features&#39;: &#39;auto&#39;, &#39;min_samples_leaf&#39;: 1, &#39;min_samples_split&#39;: 9&#125;
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">dt_clf = grid_search.best_estimator_<br>dt_clf.score(X_train,y_train.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>0.9814077025232404
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dt_clf.score(X_test,y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>))<br></code></pre></td></tr></table></figure>
<pre><code>0.9761904761904762
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">y_predict_dt = dt_clf.predict(X_test)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  查看F1指标</span><br><br>f1_score(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_dt)<br></code></pre></td></tr></table></figure>
<pre><code>0.4
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(classification_report(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_dt))<br></code></pre></td></tr></table></figure>
<pre><code>              precision    recall  f1-score   support

           0       0.98      1.00      0.99       244
           1       1.00      0.25      0.40         8

    accuracy                           0.98       252
   macro avg       0.99      0.62      0.69       252
weighted avg       0.98      0.98      0.97       252
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  绘制混淆矩阵</span><br><br>cnf_matrix = confusion_matrix(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_predict_dt)<br>cnf_matrix<br></code></pre></td></tr></table></figure>
<pre><code>array([[244,   0],
       [  6,   2]], dtype=int64)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 此处调用前面的绘制函数</span><br>plot_cnf_matirx(cnf_matrix,<span class="hljs-string">&#x27;Confusion matrix -- DecisionTree&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/HcvyCbSH"><img src="https://i.postimg.cc/FzNg3Z3f/output-98-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-98-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">y_probabilities = dt_clf.predict_proba(X_test)[:,<span class="hljs-number">1</span>]<br><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> precision_recall_curve<br><br>precisions,recalls,thresholds = precision_recall_curve(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_probabilities)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.plot(thresholds,precisions[:-<span class="hljs-number">1</span>])<br>plt.plot(thresholds,recalls[:-<span class="hljs-number">1</span>])<br>plt.grid()<br>plt.show() <br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/SXy22g3k"><img src="https://i.postimg.cc/yNRFG5Tg/output-100-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-100-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  绘制ROC曲线</span><br><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve<br>fprs3,tprs3,thresholds3 = roc_curve(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_probabilities)<br><span class="hljs-comment"># 此处调用前面的绘制函数</span><br>plot_roc_curve(fprs3,tprs3)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://postimg.cc/m1FtfJzN"><img src="https://i.postimg.cc/BbmDDGJy/output-101-0.png" srcset="http://images.shejidaren.com/wp-content/uploads/2015/11/dribbble-gif-2.gif" lazyload alt="output-101-0.png"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 求面积,相当于求得分</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_auc_score  <span class="hljs-comment">#auc:area under curve</span><br><br>roc_auc_score(y_test.astype(<span class="hljs-string">&#x27;int&#x27;</span>),y_probabilities)<br></code></pre></td></tr></table></figure>
<pre><code>0.8539959016393442
</code></pre><h1 id="决策树模型的得分为0-85399"><a href="#决策树模型的得分为0-85399" class="headerlink" title="决策树模型的得分为0.85399"></a>决策树模型的得分为0.85399</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  通过对比，我们选择XGboost模型</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  利用XGboost来预测数据</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  X7 X8 X9 X10 X13相关系数小于0.1</span><br><br>data5=data3.drop([<span class="hljs-string">&#x27;X0&#x27;</span>,<span class="hljs-string">&#x27;X1&#x27;</span>,<span class="hljs-string">&#x27;X2&#x27;</span>,<span class="hljs-string">&#x27;X3&#x27;</span>,<span class="hljs-string">&#x27;X7&#x27;</span>,<span class="hljs-string">&#x27;X8&#x27;</span>,<span class="hljs-string">&#x27;X9&#x27;</span>,<span class="hljs-string">&#x27;X10&#x27;</span>,<span class="hljs-string">&#x27;X13&#x27;</span>],axis=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data5.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X11</th>
      <th>X12</th>
      <th>X14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>8</td>
      <td>0.80</td>
      <td>26.16</td>
      <td>0</td>
      <td>0</td>
      <td>0.940725</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>0.75</td>
      <td>3.94</td>
      <td>0</td>
      <td>0</td>
      <td>0.886500</td>
    </tr>
    <tr>
      <th>2</th>
      <td>11</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>0</td>
      <td>0</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>3</th>
      <td>12</td>
      <td>0.80</td>
      <td>11.41</td>
      <td>0</td>
      <td>0</td>
      <td>0.800570</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6</td>
      <td>0.80</td>
      <td>25.90</td>
      <td>0</td>
      <td>0</td>
      <td>0.800382</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#  进行训练和预测</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 为了正确评估模型性能，将数据划分为训练集和测试集，并在训练集上训练模型，在测试集上验证模型性能。</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br><span class="hljs-comment">## 选择其类别为0和1的样本 （不包括类别为2的样本）</span><br>data_target_part = data5[<span class="hljs-string">&#x27;X14&#x27;</span>]<br>data_features_part = data5[[x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> data5.columns <span class="hljs-keyword">if</span> x != <span class="hljs-string">&#x27;X14&#x27;</span>]]<br><br><span class="hljs-comment">## 测试集大小为20%， 80%/20%分</span><br>x_train, x_test, y_train, y_test = train_test_split(data_features_part, data_target_part, test_size = <span class="hljs-number">0.2</span>, random_state = <span class="hljs-number">2020</span>)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> xgboost.sklearn <span class="hljs-keyword">import</span> XGBClassifier<br><span class="hljs-comment">## 定义 XGBoost模型 </span><br>clf = XGBClassifier()<br><span class="hljs-comment"># 在训练集上训练XGBoost模型</span><br>clf.fit(x_train, y_train)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 在训练集和测试集上分布利用训练好的模型进行预测</span><br>train_predict = clf.predict(x_train)<br>test_predict = clf.predict(x_test)<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br><span class="hljs-comment">## 利用accuracy（准确度）【预测正确的样本数目占总预测样本数目的比例】评估模型效果</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The accuracy of the Logistic Regression is:&#x27;</span>,metrics.accuracy_score(y_train,train_predict))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The accuracy of the Logistic Regression is:&#x27;</span>,metrics.accuracy_score(y_test,test_predict))<br><br><span class="hljs-comment">## 查看混淆矩阵 (预测值和真实值的各类情况统计矩阵)</span><br>confusion_matrix_result = metrics.confusion_matrix(test_predict,y_test)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The confusion matrix result:\n&#x27;</span>,confusion_matrix_result)<br><br><span class="hljs-comment"># 利用热力图对于结果进行可视化</span><br>plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>))<br>sns.heatmap(confusion_matrix_result, annot=<span class="hljs-literal">True</span>, cmap=<span class="hljs-string">&#x27;Blues&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;Predicted labels&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;True labels&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 利用XGBoost进行特征选择</span><br><br>sns.barplot(y=data_features_part.columns, x=clf.feature_importances_)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#调参</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 从sklearn库中导入网格调参函数</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> GridSearchCV<br><br><span class="hljs-comment">## 定义参数取值范围</span><br>learning_rate = [<span class="hljs-number">0.1</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.6</span>]<br>subsample = [<span class="hljs-number">0.8</span>, <span class="hljs-number">0.9</span>]<br>colsample_bytree = [<span class="hljs-number">0.6</span>, <span class="hljs-number">0.8</span>]<br>max_depth = [<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">8</span>]<br><br>parameters = &#123; <span class="hljs-string">&#x27;learning_rate&#x27;</span>: learning_rate,<br>              <span class="hljs-string">&#x27;subsample&#x27;</span>: subsample,<br>              <span class="hljs-string">&#x27;colsample_bytree&#x27;</span>:colsample_bytree,<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>: max_depth&#125;<br>model = XGBClassifier(n_estimators = <span class="hljs-number">50</span>)<br><br><span class="hljs-comment">## 进行网格搜索</span><br>clf = GridSearchCV(model, parameters, cv=<span class="hljs-number">3</span>, scoring=<span class="hljs-string">&#x27;accuracy&#x27;</span>,verbose=<span class="hljs-number">1</span>,n_jobs=-<span class="hljs-number">1</span>)<br>clf = clf.fit(x_train, y_train)<br>clf.best_params_<span class="hljs-comment">##网格搜索后的最优参数</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 在训练集和测试集上分布利用最好的模型参数进行预测</span><br><br><span class="hljs-comment">## 定义带参数的 XGBoost模型 </span><br>clf = XGBClassifier(colsample_bytree = <span class="hljs-number">0.6</span>, learning_rate = <span class="hljs-number">0.3</span>, max_depth= <span class="hljs-number">8</span>, subsample = <span class="hljs-number">0.9</span>)<br><span class="hljs-comment"># 在训练集上训练XGBoost模型</span><br>clf.fit(x_train, y_train)<br><br>train_predict = clf.predict(x_train)<br>test_predict = clf.predict(x_test)<br><br><span class="hljs-comment">## 利用accuracy（准确度）【预测正确的样本数目占总预测样本数目的比例】评估模型效果</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The accuracy of the Logistic Regression is:&#x27;</span>,metrics.accuracy_score(y_train,train_predict))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The accuracy of the Logistic Regression is:&#x27;</span>,metrics.accuracy_score(y_test,test_predict))<br><br><span class="hljs-comment">## 查看混淆矩阵 (预测值和真实值的各类情况统计矩阵)</span><br>confusion_matrix_result = metrics.confusion_matrix(test_predict,y_test)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The confusion matrix result:\n&#x27;</span>,confusion_matrix_result)<br><br><span class="hljs-comment"># 利用热力图对于结果进行可视化</span><br>plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>))<br>sns.heatmap(confusion_matrix_result, annot=<span class="hljs-literal">True</span>, cmap=<span class="hljs-string">&#x27;Blues&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;Predicted labels&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;True labels&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p>大家可以根据以下链接下载信息素养大赛校赛题，每年大同小异，考的基本都是那些，本人在21年参加素养大赛校赛时是刷的20年的题，适用。<br>此链接永久有效<br>链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1svu1k3AfeZfvsHoTbAs_eg">https://pan.baidu.com/s/1svu1k3AfeZfvsHoTbAs_eg</a><br>提取码：8888</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/python-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">python+机器学习+数据分析</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E7%B4%A0%E5%85%BB%E5%A4%A7%E8%B5%9B/">素养大赛</a>
                    
                  </div>
                
              </div>
              <!-- 
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
               -->

              
                <p class="note note-warning">
                <strong>本文作者: </strong><a href="/">水寿先生</a> <br>
                <strong>本文链接: </strong><a href="http://chen320.github.io/2022/07/15/2021%E5%B9%B4%E4%BF%A1%E6%81%AF%E7%B4%A0%E5%85%BB%E5%A4%A7%E8%B5%9B%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">http://chen320.github.io/2022/07/15/2021%E5%B9%B4%E4%BF%A1%E6%81%AF%E7%B4%A0%E5%85%BB%E5%A4%A7%E8%B5%9B%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/</a> <br>
                <strong>版权声明: </strong>本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                </p>
              


              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/07/15/KNN%E7%AE%97%E6%B3%95/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">数据分析算法-KNN算法例子</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/07/15/python%E9%87%8D%E7%82%B9%E5%B7%A5%E5%85%B7%E6%8E%8C%E6%8F%A1/">
                        <span class="hidden-mobile">python-重点工具(Matplotlib)</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"7GgfPxgdU2CcwlhdqMFDascs-gzGzoHsz","appKey":"iQjxbFjeMOGRmMhYhY2jA9sp","path":"window.location.pathname","placeholder":"说点什么","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          Fluid.plugins.initFancyBox('#valine .vcontent img:not(.vemoji)');
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  

  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  

  

  

  

  

  




  
<script src="D:/Hexo/node_modules/hexo-theme-fluid/source/js/liangbian.js"></script>
<script src="D:/Hexo/node_modules/hexo-theme-fluid/source/js/xiantiao.js"></script>
<script src="D:/Hexo/node_modules/hexo-theme-fluid/source/js/xiaoxingxing.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/jingtaisidai.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/xiantiao.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/xiaoxingxing.js"></script>
<script src="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<script src="//cdn.jsdelivr.net/gh/metowolf/Metingjs@1.2/dist/Meting.min.js"></script>
<script src="D:/Hexo/node_modules/hexo-theme-fluid/source/js/dianji.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/boom.js"></script>
<script src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>



<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
